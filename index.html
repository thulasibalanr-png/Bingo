<!doctype html>
<html>
 <head>
   <title>bingo</title>
 </head> 
 <body> 
  <hr>
    <center>
      <h1 id="bingo">BINGO</h1> 
<br>
<a class="play" href="play.html">how to play</a>
      <h1 id="bingi">
  <span>B</span>
  <span>I</span>
  <span>N</span>
  <span>G</span>
  <span>O</span>
</h1> 
    </center>
    <hr>
      
      <div class="grid">
  <div class="box" data-index="1"></div>
  <div class="box" data-index="2"></div>
  <div class="box" data-index="3"></div>
  <div class="box" data-index="4"></div>
  <div class="box" data-index="5"></div>

  <div class="box" data-index="6"></div>
  <div class="box" data-index="7"></div>
  <div class="box" data-index="8"></div>
  <div class="box" data-index="9"></div>
  <div class="box" data-index="10"></div>

  <div class="box" data-index="11"></div>
  <div class="box" data-index="12"></div>
  <div class="box" data-index="13"></div>
  <div class="box" data-index="14"></div>
  <div class="box" data-index="15"></div>

  <div class="box" data-index="16"></div>
  <div class="box" data-index="17"></div>
  <div class="box" data-index="18"></div>
  <div class="box" data-index="19"></div>
  <div class="box" data-index="20"></div>

  <div class="box" data-index="21"></div>
  <div class="box" data-index="22"></div>
  <div class="box" data-index="23"></div>
  <div class="box" data-index="24"></div>
  <div class="box" data-index="25"></div>
    
    
    
 <hr>
   
    <button class="btn" id="doneBtn">Done</button>  
<button class="btn" id="resetBtn">Reset</button>
 </body>
</html>

<style>
  #bingo{
    color:red;
    font-size:100px;
    padding:10px;
    background-color:orange;
    display:inline-block;
    border-radius:20px;
  }  
  
  #bingi span{
  padding:0 5px;
}

.strike{
  text-decoration: line-through;
  color: gray;
}



  .grid{
  display:grid;
  grid-template-columns: repeat(5, 80px);
  gap:10px;
  justify-content:center;
  margin-top:20px;
}



  .box{
  background:yellow;
  color:black;
  font-size:24px;

  width:80px;
  height:80px;

  display:flex;
  align-items:center;
  justify-content:center;

  border-radius:10px;
  font-family:Arial;
}
 
 
 
 
 
 .marked{
  position:relative;
}

.marked::after{
  content:"X";
  color:red;
  font-size:48px;
  font-weight:bold;

  position:absolute;
  top:50%;
  left:50%;
  transform:translate(-50%, -50%);

  pointer-events:none;
}





.btn{
  color:white;
  background:green;
  font-size:18px;
  padding:10px 20px;
  margin:10px auto;
  display:block;
  border:none;
  border-radius:8px;
  cursor:pointer;
}


.play{
text-align:left;
}




body{
  min-height:100vh;
  margin:0;

  
 background:red;
  background-size:cover;
  background-repeat:no-repeat;
  background-position:center;
}
</style>






<script>

let currentNumber = 1;
let available = [];   // store returned numbers
let locked = false;

let strikeCount = 0;
let completedLines = new Set();
const letters = document.querySelectorAll("#bingi span");



const boxes = document.querySelectorAll(".box");

boxes.forEach(box => {
  box.addEventListener("click", () => {




if(locked){
  if(box.textContent !== ""){
    box.classList.toggle("marked");
    checkLines();
  }
  return;
}






if(box.textContent === ""){

  // use returned number if exists
  let num = available.length > 0
            ? available.shift()
            : currentNumber++;

  box.textContent = num;

} else {

  // return number back to pool
  available.push(Number(box.textContent));
  available.sort((a,b)=>a-b);

  box.textContent = "";
}

  });
});
document.getElementById("doneBtn").addEventListener("click", () => {

  const filled = Array.from(boxes)
                     .filter(b => b.textContent !== "")
                     .length;

  if(filled === 25){
    locked = true;
    alert("All numbers entered âœ”");
  } else {
    alert("Fill all 25 boxes first!");
  }

});





function checkLines(){

  const marked = Array.from(boxes).map(b =>
    b.classList.contains("marked")
  );

  const lines = [

    // rows
    [0,1,2,3,4],
    [5,6,7,8,9],
    [10,11,12,13,14],
    [15,16,17,18,19],
    [20,21,22,23,24],

    // columns
    [0,5,10,15,20],
    [1,6,11,16,21],
    [2,7,12,17,22],
    [3,8,13,18,23],
    [4,9,14,19,24],

    // diagonals
    [0,6,12,18,24],
    [4,8,12,16,20]

  ];

  lines.forEach((line, index)=>{
    if(!completedLines.has(index)){
      if(line.every(i => marked[i])){
        completedLines.add(index);
        addStrike();
      }
    }
  });
}




function addStrike(){

  if(strikeCount < 5){
    letters[strikeCount].classList.add("strike");
    strikeCount++;
  }

  if(strikeCount === 5){
    alert("ðŸŽ‰ YOU WON BINGO ðŸŽ‰");
  }
}








document.getElementById("resetBtn").addEventListener("click", () => {

  // reset numbers
  boxes.forEach(box => {
    box.textContent = "";
    box.classList.remove("marked");
  });

  // reset variables
  currentNumber = 1;
  available = [];
  locked = false;
  strikeCount = 0;
  completedLines.clear();

  // reset heading letters
  letters.forEach(l => l.classList.remove("strike"));

});





</script></script>script>
