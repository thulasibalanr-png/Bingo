<!doctype html>
<html>

<head>
  

<title>Bingo</title>

<style>
#bingo{
  color:red;
  font-size:60px;
  padding:10px;
  background:orange;
  display:inline-block;
  border-radius:20px;
}

#bingi span{ padding:0 5px; }

.strike{
  text-decoration: line-through;
  color: gray;
}

.grid{
  display:grid;
  grid-template-columns: repeat(5,80px);
  gap:10px;
  justify-content:center;
  margin-top:20px;
}

.box{
  background:yellow;
  font-size:24px;
  width:80px;
  height:80px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:10px;
}

.marked{ position:relative; }

.marked::after{
  content:"X";
  color:red;
  font-size:48px;
  font-weight:bold;
  position:absolute;
}

.btn{
  color:white;
  background:green;
  padding:10px 20px;
  margin:10px auto;
  display:block;
  border:none;
  border-radius:8px;
}

body{
  margin:0;
  background:url("bg.png") no-repeat center/cover fixed;
}
</style>

</head>

<body>

<center>
<h1 id="bingo">BINGO</h1>

<h1 id="bingi">
<span>B</span>
<span>I</span>
<span>N</span>
<span>G</span>
<span>O</span>
</h1>
</center>

<div class="grid" id="grid"></div>

<button class="btn" id="doneBtn">Done</button>
<button class="btn" id="resetBtn">Reset</button>



<script>

const grid = document.getElementById("grid");

/* CREATE 25 BOXES */
for(let i=0;i<25;i++){
  let div=document.createElement("div");
  div.className="box";
  grid.appendChild(div);
}

const boxes=document.querySelectorAll(".box");

let locked=false;
let strikeCount=0;
let completed=new Set();
const letters=document.querySelectorAll("#bingi span");

/* TRACK USED NUMBERS */
let usedNumbers = new Set();

/* GET NEXT AVAILABLE NUMBER (1-25) */
function getNextNumber(){
  for(let i=1;i<=25;i++){
    if(!usedNumbers.has(i)){
      return i;
    }
  }
  return null;
}

/* CLICK BEHAVIOR */
boxes.forEach(box=>{
  box.onclick=()=>{

    if(!locked){

      // ADD NUMBER
      if(box.textContent===""){
        let num=getNextNumber();
        if(num!==null){
          box.textContent=num;
          usedNumbers.add(num);
        }else{
          alert("All numbers used (1-25)");
        }
      }

      // ERASE NUMBER
      else{
        usedNumbers.delete(Number(box.textContent));
        box.textContent="";
      }
      return;
    }

    // PLAY MODE MARK
    if(box.textContent!==""){
      box.classList.toggle("marked");
      checkLines();
    }
  }
});

/* DONE BUTTON */
document.getElementById("doneBtn").onclick=()=>{
  if([...boxes].every(b=>b.textContent!=="")){
    locked=true;
    alert("Ready to play âœ”");
  }else{
    alert("Fill all boxes first");
  }
};

/* RESET */
document.getElementById("resetBtn").onclick=()=>{
boxes.forEach(b=>{
  b.textContent="";
  b.classList.remove("marked");
});
locked=false;
strikeCount=0;
completed.clear();
usedNumbers.clear();
letters.forEach(l=>l.classList.remove("strike"));
};

/* LINE CHECK */
function checkLines(){

const marked=[...boxes].map(b=>b.classList.contains("marked"));

const lines=[
[0,1,2,3,4],[5,6,7,8,9],[10,11,12,13,14],
[15,16,17,18,19],[20,21,22,23,24],
[0,5,10,15,20],[1,6,11,16,21],[2,7,12,17,22],
[3,8,13,18,23],[4,9,14,19,24],
[0,6,12,18,24],[4,8,12,16,20]
];

lines.forEach((line,i)=>{
if(!completed.has(i) && line.every(x=>marked[x])){
completed.add(i);
letters[strikeCount].classList.add("strike");
strikeCount++;

if(strikeCount===5){
alert("ðŸŽ‰ YOU WON ðŸŽ‰");
}
}
});

}

</script>


</body>
</html>